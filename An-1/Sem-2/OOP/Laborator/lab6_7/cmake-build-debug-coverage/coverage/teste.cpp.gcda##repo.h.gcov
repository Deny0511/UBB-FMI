        -:    0:Source:C:/Users/urdad/lab6_7/repo.h
        -:    0:Graph:C:\Users\urdad\lab6_7\cmake-build-debug-coverage\CMakeFiles\lab6_7.dir\teste.cpp.gcno
        -:    0:Data:C:\Users\urdad\lab6_7\cmake-build-debug-coverage\CMakeFiles\lab6_7.dir\teste.cpp.gcda
        -:    0:Runs:1
        -:    1:
        -:    2:#ifndef REPO_H
        -:    3:#define REPO_H
        -:    4:
        -:    5:#include "domain.h"
        -:    6:#include "MyList.h"
        -:    7:#include <vector>
        -:    8:#include <algorithm>
        -:    9:#include <stdexcept>
        -:   10:#include <map>
        -:   11:#include <string>
        -:   12:#include <functional>
        -:   13:#include <random>
        -:   14:
        -:   15:
        -:   16:class RepositoryException : public std::runtime_error {
        -:   17:public:
function _ZN19RepositoryExceptionC1ERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE called 0 returned 0% blocks executed 0%
    #####:   18:    explicit RepositoryException(const std::string& msg) : std::runtime_error(msg) {}
    %%%%%:   18-block  0
call    0 never executed
        -:   19:};
        -:   20:
        -:   21:
        -:   22:class AbsRepo{
        -:   23:public:
        -:   24:    virtual void adauga(const Film& a)=0;
        -:   25:
        -:   26:    virtual void modifica(const std::string& titlu, int an, const std::string& nouGen, int nouAn, const std::string& nouActor)=0;
        -:   27:
        -:   28:    virtual void sterge(const std::string& titlu, int an)=0;
        -:   29:
        -:   30:    virtual const std::vector<Film>& getAll() const noexcept = 0;
        -:   31:    virtual void setAll(const std::vector<Film>& filmeNoi) noexcept=0;
        -:   32:    virtual const Film& cauta(const std::string& titlu, int an) const =0;
        -:   33:
function _ZN7AbsRepoD2Ev called 0 returned 0% blocks executed 0%
    #####:   34:    virtual ~AbsRepo()=default;
        -:   35:};
        -:   36:
        -:   37:
        -:   38:
        -:   39:class Repo : public AbsRepo{
        -:   40:private:
        -:   41:    std::vector<Film> filme;
        -:   42:
        -:   43:public:
function _ZN4RepoC2Ev called 0 returned 0% blocks executed 0%
    #####:   44:    Repo() = default;
    %%%%%:   44-block  0
call    0 never executed
call    1 never executed
        -:   45:    virtual void adauga(const Film& film);
        -:   46:    virtual void sterge(const std::string& titlu, int an);
        -:   47:    virtual void modifica(const std::string& titlu, int an, const std::string& nouGen, int nouAn, const std::string& nouActor);
        -:   48:    virtual const Film& cauta(const std::string& titlu, int an) const;
function _ZNK4Repo6getAllEv called 0 returned 0% blocks executed 0%
    #####:   49:    virtual const std::vector<Film>& getAll() const noexcept {return filme;}
    %%%%%:   49-block  0
function _ZN4Repo6setAllERKSt6vectorI4FilmSaIS1_EE called 0 returned 0% blocks executed 0%
    #####:   50:    virtual void setAll(const std::vector<Film>& filmeNoi) noexcept{
    #####:   51:        filme = std::move(filmeNoi);
    %%%%%:   51-block  0
call    0 never executed
call    1 never executed
    #####:   52:    }
        -:   53:    virtual ~Repo();
        -:   54:};
        -:   55:
        -:   56:class RepoFile :public Repo {
        -:   57:private:
        -:   58:
        -:   59:    std::string numeFisier;
        -:   60:
        -:   61:
        -:   62:public:
        -:   63:    void writeAllToFile();
        -:   64:
        -:   65:    void readAllFromFile();
function _ZN8RepoFileC1ENSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE called 0 returned 0% blocks executed 0%
    #####:   66:    RepoFile(std::string numeFisier) :Repo(), numeFisier{ numeFisier } {
    %%%%%:   66-block  0
call    0 never executed
call    1 never executed
branch  2 never executed (fallthrough)
branch  3 never executed (throw)
    #####:   67:        readAllFromFile();
    %%%%%:   67-block  0
call    0 never executed
branch  1 never executed (fallthrough)
branch  2 never executed (throw)
    #####:   68:    }
    %%%%%:   68-block  0
    $$$$$:   68-block  1
call    0 never executed
    $$$$$:   68-block  2
call    1 never executed
        -:   69:
function _ZN8RepoFile6adaugaERK4Film called 0 returned 0% blocks executed 0%
    #####:   70:    void adauga(const Film& film) override {
    #####:   71:        Repo::adauga(film);
    %%%%%:   71-block  0
call    0 never executed
    #####:   72:        writeAllToFile();
call    0 never executed
    #####:   73:    }
        -:   74:
function _ZN8RepoFile8modificaERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEiS7_iS7_ called 0 returned 0% blocks executed 0%
    #####:   75:    void modifica(const std::string& titlu, int an, const std::string& nouGen, int nouAn, const std::string& nouActor) override {
    #####:   76:        Repo::modifica(titlu,an,nouGen,nouAn,nouActor);
    %%%%%:   76-block  0
call    0 never executed
    #####:   77:        writeAllToFile();
call    0 never executed
    #####:   78:    }
        -:   79:
function _ZN8RepoFile6stergeERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEi called 0 returned 0% blocks executed 0%
    #####:   80:    void sterge(const std::string& titlu, int an) override {
    #####:   81:        Repo::sterge(titlu,an);
    %%%%%:   81-block  0
call    0 never executed
    #####:   82:        writeAllToFile();
call    0 never executed
    #####:   83:    }
        -:   84:
        -:   85:
    #####:   86:    ~RepoFile() override {
    #####:   87:    }
------------------
_ZN8RepoFileD0Ev:
function _ZN8RepoFileD0Ev called 0 returned 0% blocks executed 0%
    #####:   86:    ~RepoFile() override {
    #####:   87:    }
    %%%%%:   87-block  0
call    0 never executed
call    1 never executed
------------------
_ZN8RepoFileD1Ev:
function _ZN8RepoFileD1Ev called 0 returned 0% blocks executed 0%
    #####:   86:    ~RepoFile() override {
    #####:   87:    }
    %%%%%:   87-block  0
call    0 never executed
call    1 never executed
------------------
        -:   88:};
        -:   89:
        -:   90:class RepoNou : public AbsRepo {
        -:   91:private:
        -:   92:
        -:   93:	std::map<std::string, Film> filme;
        -:   94:	float probabilitate;
function _ZN7RepoNou14aruncaExceptieEv called 0 returned 0% blocks executed 0%
    #####:   95:    bool aruncaExceptie() {
    #####:   96:        std::random_device rd;
    %%%%%:   96-block  0
call    0 never executed
branch  1 never executed (fallthrough)
branch  2 never executed (throw)
    #####:   97:        std::mt19937 gen(rd());
    %%%%%:   97-block  0
call    0 never executed
branch  1 never executed (fallthrough)
branch  2 never executed (throw)
    %%%%%:   97-block  1
call    3 never executed
branch  4 never executed (fallthrough)
branch  5 never executed (throw)
    #####:   98:        std::uniform_real_distribution<> dis(0.0, 1.0);
    %%%%%:   98-block  0
call    0 never executed
branch  1 never executed (fallthrough)
branch  2 never executed (throw)
    #####:   99:        float val = dis(gen);
    %%%%%:   99-block  0
call    0 never executed
branch  1 never executed (fallthrough)
branch  2 never executed (throw)
    #####:  100:        return val < probabilitate;
    %%%%%:  100-block  0
    #####:  101:    }
    %%%%%:  101-block  0
call    0 never executed
    $$$$$:  101-block  1
call    1 never executed
        -:  102:
        -:  103:public:
        -:  104:
        -:  105:	RepoNou() = default;
function _ZN7RepoNouC1Ef called 0 returned 0% blocks executed 0%
    #####:  106:    explicit RepoNou(float chance) : probabilitate(chance) {
    %%%%%:  106-block  0
call    0 never executed
call    1 never executed
    #####:  107:        if (probabilitate < 0.0 || probabilitate > 1.0) {
branch  0 never executed (fallthrough)
branch  1 never executed
    %%%%%:  107-block  0
branch  2 never executed (fallthrough)
branch  3 never executed
    #####:  108:            throw std::invalid_argument("Probabilitatea trebuie sa fie intre 0 si 1.");
    %%%%%:  108-block  0
call    0 never executed
call    1 never executed
branch  2 never executed (fallthrough)
branch  3 never executed (throw)
    %%%%%:  108-block  1
call    4 never executed
    $$$$$:  108-block  2
call    5 never executed
        -:  109:        }
    #####:  110:    }
    %%%%%:  110-block  0
    $$$$$:  110-block  1
call    0 never executed
    $$$$$:  110-block  2
call    1 never executed
        -:  111:
function _ZN7RepoNou6adaugaERK4Film called 0 returned 0% blocks executed 0%
    #####:  112:    void adauga(const Film& film) override {
    #####:  113:        if (aruncaExceptie()) {
    %%%%%:  113-block  0
call    0 never executed
branch  1 never executed (fallthrough)
branch  2 never executed
    #####:  114:            throw RepositoryException("Eroare: A fost aruncată o excepție la adăugarea unui film.");
    %%%%%:  114-block  0
call    0 never executed
    %%%%%:  114-block  1
call    1 never executed
branch  2 never executed (fallthrough)
branch  3 never executed (throw)
    %%%%%:  114-block  2
call    4 never executed
branch  5 never executed (fallthrough)
branch  6 never executed (throw)
    %%%%%:  114-block  3
call    7 never executed
    %%%%%:  114-block  4
call    8 never executed
    $$$$$:  114-block  5
call    9 never executed
    $$$$$:  114-block  6
    $$$$$:  114-block  7
    $$$$$:  114-block  8
call   10 never executed
        -:  115:        }
    #####:  116:        filme[film.getTitlu()] = film;
    %%%%%:  116-block  0
call    0 never executed
call    1 never executed
call    2 never executed
    #####:  117:    }
        -:  118:
function _ZN7RepoNou6stergeERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEi called 0 returned 0% blocks executed 0%
    #####:  119:	void sterge(const std::string& titlu, int an) override {
    #####:  120:        if (aruncaExceptie()) {
    %%%%%:  120-block  0
call    0 never executed
branch  1 never executed (fallthrough)
branch  2 never executed (throw)
    %%%%%:  120-block  1
branch  3 never executed (fallthrough)
branch  4 never executed
    #####:  121:            throw RepositoryException("Eroare: A fost aruncată o excepție la ștergerea unui film.");
    %%%%%:  121-block  0
call    0 never executed
    %%%%%:  121-block  1
call    1 never executed
branch  2 never executed (fallthrough)
branch  3 never executed (throw)
    %%%%%:  121-block  2
call    4 never executed
branch  5 never executed (fallthrough)
branch  6 never executed (throw)
    %%%%%:  121-block  3
call    7 never executed
    %%%%%:  121-block  4
call    8 never executed
    $$$$$:  121-block  5
call    9 never executed
    $$$$$:  121-block  6
    $$$$$:  121-block  7
    $$$$$:  121-block  8
call   10 never executed
        -:  122:        }
    #####:  123:        auto it = filme.find(titlu);
    %%%%%:  123-block  0
call    0 never executed
branch  1 never executed (fallthrough)
branch  2 never executed (throw)
    #####:  124:        if (it != filme.end()) {
    %%%%%:  124-block  0
call    0 never executed
call    1 never executed
branch  2 never executed (fallthrough)
branch  3 never executed
    #####:  125:            filme.erase(it);
    %%%%%:  125-block  0
call    0 never executed
branch  1 never executed (fallthrough)
branch  2 never executed (throw)
        -:  126:        }
    #####:  127:	}
    %%%%%:  127-block  0
        -:  128:
function _ZN7RepoNou8modificaERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEiS7_iS7_ called 0 returned 0% blocks executed 0%
    #####:  129:	void modifica(const std::string& titlu, int an, const std::string& nouGen, int nouAn, const std::string& nouActor) override {
    #####:  130:        if (aruncaExceptie()) {
    %%%%%:  130-block  0
call    0 never executed
branch  1 never executed (fallthrough)
branch  2 never executed (throw)
    %%%%%:  130-block  1
branch  3 never executed (fallthrough)
branch  4 never executed
    #####:  131:            throw RepositoryException("Eroare: A fost aruncată o excepție la modificarea unui film.");
    %%%%%:  131-block  0
call    0 never executed
    %%%%%:  131-block  1
call    1 never executed
branch  2 never executed (fallthrough)
branch  3 never executed (throw)
    %%%%%:  131-block  2
call    4 never executed
branch  5 never executed (fallthrough)
branch  6 never executed (throw)
    %%%%%:  131-block  3
call    7 never executed
    %%%%%:  131-block  4
call    8 never executed
    $$$$$:  131-block  5
call    9 never executed
    $$$$$:  131-block  6
    $$$$$:  131-block  7
    $$$$$:  131-block  8
call   10 never executed
        -:  132:        }
    #####:  133:        auto it = filme.find(titlu);
    %%%%%:  133-block  0
call    0 never executed
branch  1 never executed (fallthrough)
branch  2 never executed (throw)
    #####:  134:        if (it != filme.end()) {
    %%%%%:  134-block  0
call    0 never executed
call    1 never executed
branch  2 never executed (fallthrough)
branch  3 never executed
    #####:  135:            it->second.setGen(nouGen);
    %%%%%:  135-block  0
call    0 never executed
call    1 never executed
branch  2 never executed (fallthrough)
branch  3 never executed (throw)
    #####:  136:            it->second.setAn(nouAn);
    %%%%%:  136-block  0
call    0 never executed
call    1 never executed
    #####:  137:            it->second.setActor(nouActor);
call    0 never executed
call    1 never executed
branch  2 never executed (fallthrough)
branch  3 never executed (throw)
        -:  138:        }
    #####:  139:	}
    %%%%%:  139-block  0
        -:  140:
function _ZNK7RepoNou5cautaERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEi called 0 returned 0% blocks executed 0%
    #####:  141:    const Film& cauta(const std::string& titlu, int an) const override {
    #####:  142:        auto it = filme.find(titlu);
    %%%%%:  142-block  0
call    0 never executed
branch  1 never executed (fallthrough)
branch  2 never executed (throw)
    #####:  143:        if (it != filme.end()) {
    %%%%%:  143-block  0
call    0 never executed
call    1 never executed
branch  2 never executed (fallthrough)
branch  3 never executed
    #####:  144:            return it->second;}}
    %%%%%:  144-block  0
call    0 never executed
    %%%%%:  144-block  1
        -:  145:
function _ZNK7RepoNou6getAllEv called 0 returned 0% blocks executed 0%
    #####:  146:    const std::vector<Film>& getAll() const noexcept override {
    #####:  147:        static std::vector<Film> listaFilme;
    %%%%%:  147-block  0
branch  0 never executed (fallthrough)
branch  1 never executed
    %%%%%:  147-block  1
call    2 never executed
branch  3 never executed (fallthrough)
branch  4 never executed
    %%%%%:  147-block  2
call    5 never executed
call    6 never executed
    #####:  148:        listaFilme.clear();
    %%%%%:  148-block  0
call    0 never executed
    #####:  149:        for (const auto& pair : filme) {
call    0 never executed
call    1 never executed
    %%%%%:  149-block  0
call    2 never executed
call    3 never executed
    %%%%%:  149-block  1
call    4 never executed
branch  5 never executed
branch  6 never executed (fallthrough)
    #####:  150:            listaFilme.push_back(pair.second);
call    0 never executed
        -:  151:        }
    #####:  152:        return listaFilme;
    %%%%%:  152-block  0
        -:  153:    }
        -:  154:
        -:  155:
function _ZN7RepoNou6setAllERKSt6vectorI4FilmSaIS1_EE called 0 returned 0% blocks executed 0%
    #####:  156:    void setAll(const std::vector<Film>& filmeNoi) noexcept override {
    #####:  157:        filme.clear();
    %%%%%:  157-block  0
call    0 never executed
    #####:  158:        for (const auto& film : filmeNoi) {
call    0 never executed
call    1 never executed
    %%%%%:  158-block  0
call    2 never executed
call    3 never executed
    %%%%%:  158-block  1
call    4 never executed
branch  5 never executed
branch  6 never executed (fallthrough)
    #####:  159:            filme[film.getTitlu()] = film;
call    0 never executed
call    1 never executed
call    2 never executed
        -:  160:        }
    #####:  161:    }
        -:  162:
    #####:  163:	~RepoNou() override {}
------------------
_ZN7RepoNouD0Ev:
function _ZN7RepoNouD0Ev called 0 returned 0% blocks executed 0%
    #####:  163:	~RepoNou() override {}
    %%%%%:  163-block  0
call    0 never executed
call    1 never executed
------------------
_ZN7RepoNouD1Ev:
function _ZN7RepoNouD1Ev called 0 returned 0% blocks executed 0%
    #####:  163:	~RepoNou() override {}
    %%%%%:  163-block  0
call    0 never executed
call    1 never executed
------------------
        -:  164:};
        -:  165:
        -:  166:
        -:  167:#endif //REPO_H
